@* @page "/chat"
@inject NavigationManager Navigation
@inject IHubContext<ChatHub> ChatHubContext

<PageTitle>Chat with MCP Server</PageTitle>

<div class="chat-container">
    <div class="messages" id="messages"></div>
    <div class="input-area">
        <input type="text" @bind="userInput" @onkeydown="HandleKeyDown" placeholder="Type your message..." />
        <button @onclick="SendMessage">Send</button>
    </div>
</div>

@code {
    private string userInput = string.Empty;

    private async Task SendMessage()
    {
        if (!string.IsNullOrWhiteSpace(userInput))
        {
            await ChatHubContext.Clients.All.SendAsync("ReceiveMessage", "User", userInput);
            userInput = string.Empty;
        }
    }

    private async Task HandleKeyDown(KeyboardEventArgs e)
    {
        if (e.Key == "Enter")
        {
            await SendMessage();
        }
    }
} *@
